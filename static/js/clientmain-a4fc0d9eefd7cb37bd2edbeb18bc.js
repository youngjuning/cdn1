"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[556],{9459:(e,t,a)=>{a.d(t,{DH:()=>f,Lc:()=>_,NL:()=>v,TX:()=>d,gk:()=>g,nB:()=>m,oP:()=>$,x2:()=>y});var r=a(9202),i=a(7426),s=a(2738),o=a(9686),n=a(7160),l=a(3766);const u=(0,o.Lq)(),g=(0,r.LC)({reducerPath:"api",baseQuery:(0,i.ni)({baseUrl:u}),endpoints:e=>({getLocalisations:e.query({query:({site:e})=>`/localisations?site=${e.id}`}),getLocalisation:e.query({query:({site:e,slug:t})=>`/localisations/${t}/${e.lang}?country=${e.lang}&site=${e.id}`}),getHomepage:e.query({query:({site:e,device:t,geo:a,experiment:r,trafficSource:i})=>`/list/game/HOME?site=${e.id}&device=${t}&country=${a}&limit=${"mobile"===t?143:145}${r?`&experiment=${r}`:""}${"tiktok"===i?"&tiktok=1":""}`,transformResponse:(e,t,a)=>{const{content:r}=e;return{games:r.map((e=>(0,n.zP)(a.site,"game",e))),alternates:s.JZ}}}),getPopularSearches:e.query({query:({site:e,device:t,geo:a})=>`/search/clicks?site=${e.id}&country=${a}&amount=6&view=${t}`,transformResponse:(e,t,a)=>(e||[]).map((e=>(0,n.zP)(a.site,"game",e)))}),getImvitaConfigs:e.query({query:()=>"/imvita"}),getCategory:e.query({query:({slug:e,site:t,device:a,geo:r,experiment:i})=>`/category/${encodeURIComponent(e)}?site=${t.id}&device=${a}&country=${r}&limit=200${i?`&experiment=${i}`:""}`,transformResponse:(e,t,a)=>{const r=(0,n.dr)(a.device,(null==e?void 0:e.games)||[]).map((e=>(0,n.zP)(a.site,"game",e))),i=((null==e?void 0:e.related_categories)||[]).map((e=>(0,n.zP)(a.site,"category",e))),s=(0,l.WM)("category",e.alternate_sites);return delete e.related_categories,{...e,games:r,relatedCategories:i,alternates:s}}}),getCategories:e.query({query:({site:e,list:t,device:a})=>`/list/category/${t}${e.id}?site=${e.id}&device=${a}&offset=0&limit=500`,transformResponse:(e,t,a)=>{const{content:r}=e;return r.map((e=>(0,n.zP)(a.site,"category",e)))}}),getGame:e.query({query:({site:e,slug:t,device:a,geo:r,experiment:i,pageType:s,path:o})=>{if("preview"===s||"mystery"===s){const t=o.split("/");let i,n;if("mystery"===s){const e=atob(t[3]);[i,n]=e.split("/")}else[i,n]=[t[3],t[4]];return i&&n?`/previewgame/${i}/${n}?country=${r}&device=${a}&site=${e.id}`:{url:null}}return`/game/${encodeURIComponent(t)}?site=${e.id}&device=${a}&country=${r}${i?`&experiment=${i}`:""}`},transformResponse:(e,t,a)=>{var r;if(!e)throw new Error(`Game ${null==a?void 0:a.path} not found`);if("mystery"===a.pageType){const t=a.path.split("/"),r=atob(t[3]);e.orientation=r.split("/")[2]||"both"}const{categories:i,related_categories:s,related_games:o}=e,u=i?i.map((e=>(0,n.zP)(a.site,"category",e))):[],g=s?s.map((e=>(0,n.zP)(a.site,"category",e))):[],c="mobile"===a.device?(0,n.Pi)(o):o,m=c?c.map((e=>(0,n.zP)(a.site,"game",e))):[],y=e.alternative_game?(0,n.zP)(a.site,"game",e.alternative_game):null,d=e.alternative_category?(0,n.zP)(a.site,"category",e.alternative_category):null,p=(0,l.WM)("game",e.alternate_sites);delete e.related_categories,delete e.related_games;const $={path:(null==e||null===(r=e.image)||void 0===r?void 0:r.path)||"mystery-tile-square.png"};return{...e,alternative_game:y,alternative_category:d,categories:u,relatedCategories:g,relatedGames:m,alternates:p,image:$}}}),getGamesByIDs:e.query({query:({site:e,ids:t,geo:a})=>`/games/?site=${e.id}&id=${t.join(",")}&country=${a}`,transformResponse:(e,t,a)=>{if(!e)return[];return e.map((e=>(0,n.zP)(a.site,"game",e)))}})})}),{useGetLocalisationsQuery:c,useGetLocalisationQuery:m,useGetHomepageQuery:y,useGetPopularSearchesQuery:d,useGetImvitaConfigsQuery:p,useGetCategoryQuery:$,useGetCategoriesQuery:v,useGetGameQuery:_,useGetGamesByIDsQuery:f}=g}}]);